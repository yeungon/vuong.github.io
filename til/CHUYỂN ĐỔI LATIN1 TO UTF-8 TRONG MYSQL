B√†i vi·∫øt g·ªëc l√† c·ªßa b√°c tiendx2002 tr√™n ddth, m√¨nh th·∫•y hay v√† c·∫ßn n√™n vi·∫øt l·∫°i m·ªôt t√≠ theo c√°ch hi·ªÉu c·ªßa m√¨nh cho b·∫°n n√†o c·∫£m th·∫•y c·∫ßn thi·∫øt. T·∫•t c·∫£ code trong b√†i vi·∫øt n√†y thu·ªôc copyright c·ªßa b√°c Ti·∫øn üôÇ

ƒê·∫ßu ti√™n ta x√©t v√≠ d·ª• ·ªü m√£ latin1:

?
1
2
3
4
5
6
7
CREATE DATABASE `latindatabase` DEFAULT CHARACTER SET latin1 COLLATE latin1_general_ci;
CREATE TABLE `article` (
`id` INT NOT NULL AUTO_INCREMENT ,
`title` VARCHAR( 255 ) NOT NULL ,
`content` TEXT NOT NULL ,
PRIMARY KEY ( `id` )
)
ƒê·ªÉ ti·∫øt ki·ªám th·ªùi gian ta xem code v·ª´a view, v·ª´a add lu√¥n üòÄ

File config.php ƒë·ªÉ k·∫øt n·ªëi v∆°i c∆° s·ªü d·ªØ li·ªáu

<?php
$mysql_host="localhost";
$mysql_username="test";
$mysql_password="test";
$mysql_databasename="latindatabase";
?>
</pre>
<strong>dbconnect.php</strong>
<pre lang="php">
<?php
include ‚Äòconfig.php‚Äô;
$dbp=mysql_connect($mysql_host,$mysql_username,$mysql_password);
mysql_select_db($mysql_databasename,$dbp);
?>

File index.php

?
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
<?php
include 'dbconnect.php';
if ($_POST['title'] != "") {
    $sql = "INSERT INTO article(title, content) VALUES ('".$_POST['title']."', '".$_POST['content']."')";
    $result = mysql_query($sql);
}
?>
<html>
<head>
<title>Article View and Add</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<?php
$sql = "SELECT * FROM article";
$result = mysql_query($sql);
while($row = mysql_fetch_array($result)) {
    echo "<b>".$row['id']." - ".$row['title']."</b><br>";
    echo $row['content']."<br><br>";
}
?>
 
<form name="articleadd" method="post" action="">
  <p>Title: 
    <input type="text" name="title">
    </p>
  <p>Content:<br>
    <textarea name="content"></textarea>
    </p>
  <p>
    <label>
    <input type="submit" name="button" id="button" value="Submit">
    </label>
  </p>
</form>  
V√† ƒë√¢y l√† k·∫øt qu·∫£, view tr√™n Firefox



C√≥ v·∫ª n√≥ c≈©ng kh√° ‚Äúngon l√†nh‚Äù khi hi·ªÉn th·ªã, nh∆∞ng v·∫•n ƒë·ªÅ ·ªü ch·ªó th√¥ng tin ƒë∆∞·ª£c l∆∞u trong database nh∆∞ sau:

Th√¥ng tin latin1 trong DATABASE
Th√¥ng tin latin1 trong DATABASE
Theo m·ªôt c√°ch hi·ªÉu ƒë∆°n gi·∫£n nh·∫•t l√† : kh·ªèi ƒë·ªçc ƒë∆∞·ª£c üòÄ

V·∫•n ƒë·ªÅ ·ªü ƒë√¢y l√† v·ªõi c√°ch l∆∞u tr·ªØ nh∆∞ v·∫≠y s·∫Ω g√¢y kh√≥ khƒÉn cho qu√° tr√¨nh t√¨m ki·∫øm trong database (t·∫°i sao b·∫°n s·∫Ω g·∫∑p ·ªü m·ªôt v√≠ d·ª• kh√°c t√¥i s·∫Ω post sau). Sau ƒë√¢y ta ti·∫øp t·ª•c v·ªõi m·ªôt database ho√†n to√†n Unicode.

?
1
2
3
4
5
6
CREATE DATABASE `unicodedatabase` DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE `article` (
`id` INT NOT NULL AUTO_INCREMENT ,
`title` VARCHAR( 255 ) NOT NULL ,
`content` TEXT NOT NULL ,
PRIMARY KEY ( `id` )
H·ªá th·ªëng file k·∫øt n·ªëi l√∫c n√†y c√≥ ƒë√¥i ch√∫t kh√°c bi·ªát:

config.php

?
1
2
3
4
5
6
<?php
$mysql_host="localhost";
$mysql_username="test";
$mysql_password="test";
$mysql_databasename="unicodedatabase";
?>
dbconnect.php

?
1
2
3
4
5
<?php
include 'config.php';
$dbp=mysql_connect($mysql_host,$mysql_username,$mysql_password);
mysql_select_db($mysql_databasename,$dbp);
?>
index.php

?
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
<?php
include 'dbconnect.php';
mysql_query("SET NAMES 'utf8'");
if ($_POST['title'] != "") {
    $sql = "INSERT INTO article(title, content) VALUES ('".$_POST['title']."', '".$_POST['content']."')";
    $result = mysql_query($sql);
}
?>
<html>
<head>
<title>Article View and Add</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<?php
$sql = "SELECT * FROM article";
$result = mysql_query($sql);
while($row = mysql_fetch_array($result)) {
    echo "<b>".$row['id']." - ".$row['title']."</b><br>";
    echo $row['content']."<br><br>";
}
?>
 
<form name="articleadd" method="post" action="">
  <p>Title: 
    <input type="text" name="title">
    </p>
  <p>Content:<br>
    <textarea name="content"></textarea>
    </p>
  <p>
    <label>
    <input type="submit" name="button" id="button" value="Submit">
    </label>
  </p>
</form>
Kh√¥ng c√≥ nhi·ªÅu s·ª± kh√°c bi·ªát cho l·∫Øm n√™n b·∫°n t·ª± nghi√™n c·ª©u th·ª≠ n√≥ kh√°c bi·ªát th·∫ø n√†o nh√© üôÇ

K·∫øt qu·∫£ trong firefox v·∫´n kh√¥ng thay ƒë·ªïi:



ƒêi·ªÅu kh√°c bi·ªát l√† th√¥ng tin ƒë∆∞·ª£c l∆∞u trong database

Th√¥ng tin UTF-8 ƒë∆∞·ª£c l∆∞u trong database
Th√¥ng tin UTF-8 ƒë∆∞·ª£c l∆∞u trong database
R·ªìi ! ƒê√≥ l√† s·ª± kh√°c bi·ªát l·ªõn v√† ch√∫ng ta m·∫∑c ƒë·ªãnh l√† ƒë·ªÅu hi·ªÉu n√≥ c√≥ l·ª£i cho vi·ªác hi·ªÉn th·ªã, l∆∞u tr·ªØ v√† t√¨m ki·∫øm ƒë·ªëi v·ªõi ti·∫øng Vi·ªát. Tuy nhi√™n, v·∫•n ƒë·ªÅ c·∫ßn b√†n nh·∫•t l√† l√†m th·∫ø n√†o ƒë·ªÉ chuy·ªÉn ƒë·ªïi m·ªôt database t·ª´ latin1 sang UTF-8 ƒë·ªÉ kh·∫Øc kh·ª•c c√°c nh∆∞·ª£c ƒëi·ªÉm. ƒê√¢y l√† c√°ch:

File config.php

?
1
2
3
4
5
6
<?php
$mysql_host="localhost";
$mysql_username="test";
$mysql_password="test";
$mysql_databasename="unicodedatabase";
?>
File dbconnect.php

?
1
2
3
4
5
<?php
include 'config.php';
$dbp=mysql_connect($mysql_host,$mysql_username,$mysql_password);
mysql_select_db($mysql_databasename,$dbp);
?>
File config2.php

?
1
2
3
4
5
6
<?php
$mysql_host="localhost";
$mysql_username="test";
$mysql_password="test";
$mysql_databasename="latindatabase";
?>
dbconnect2.php

?
1
2
3
4
5
<?php
include 'config2.php';
$dbp=mysql_connect($mysql_host,$mysql_username,$mysql_password);
mysql_select_db($mysql_databasename,$dbp);
?>
V√† cu·ªëi c√πng l√† file convert.php

?
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
<html>
<head>
<title>Article Convert</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<?php
include 'dbconnect2.php';
//First select all from one database
$sql = "SELECT * FROM article";
$result = mysql_query($sql);
while($row = mysql_fetch_array($result)) {
    $rows[] = $row;
}
 
//Then insert to the other
include 'dbconnect.php';
mysql_query("SET NAMES 'utf8'");
foreach($rows as $row) {
    $sql = "INSERT INTO article(title, content) VALUES ('".$row['title']."', '".$row['content']."')";
    $result = mysql_query($sql);
}
?>
Convert finished!
K·∫øt qu·∫£ cu·ªëi c√πng:

convert latin1 to UTF-8
convert latin1 to UTF-8


source: https://nhanweb.com/chuyen-doi-latin1-to-utf-8-trong-mysql.html
